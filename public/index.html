<!DOCTYPE html>
<html lang="en">
<head>
    <base href="/legal-marketplace-sa/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Legal Marketplace SA - Connect with top legal professionals in Saudi Arabia. Find lawyers or post legal requests.">
    <meta name="keywords" content="legal, lawyers, Saudi Arabia, legal services, law firm, legal consultation">
    <meta name="author" content="Legal Marketplace SA">
    <meta property="og:title" content="Legal Marketplace SA">
    <meta property="og:description" content="Connect with top legal professionals in Saudi Arabia">
    <meta property="og:image" content="/images/og-image.jpg">
    <meta property="og:url" content="https://legal-marketplace-sa.vercel.app">
    <title>Legal Marketplace SA - Legal Services in Saudi Arabia</title>
    
    <!-- Security -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; style-src 'self' https: 'unsafe-inline'; script-src 'self' 'unsafe-inline'">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- Preload critical assets -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">
    
    <!-- Styles -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
        /* Base styles */
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            scroll-behavior: smooth;
        }
        
        /* Accessibility improvements */
        :focus {
            outline: 3px solid #2563eb !important;
            outline-offset: 2px !important;
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #2563eb;
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.2s;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        /* Performance optimizations */
        .hero-gradient {
            background: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
            will-change: transform;
        }
        
        .feature-card {
            transition: transform 0.2s ease-in-out;
            will-change: transform;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        /* Responsive improvements */
        @media (max-width: 640px) {
            .hero-section {
                padding: 4rem 1rem;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .nav-content {
                padding: 0 1rem;
            }
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .text-gray-600 {
                color: #000000;
            }
            .text-gray-400 {
                color: #000000;
            }
            .bg-blue-600 {
                background-color: #000000;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }

        /* Add loading state styles */
        .loading-skeleton {
            animation: pulse 1.5s infinite;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
        }

        @keyframes pulse {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Image loading styles */
        .img-loading {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .img-loaded {
            opacity: 1;
        }

        /* Optimize performance */
        img {
            content-visibility: auto;
        }

        /* Reduce CLS */
        .hero-section {
            min-height: 400px;
        }

        .feature-card {
            min-height: 250px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div id="app" class="min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-50" role="banner">
            <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" role="navigation" aria-label="Main navigation">
                <div class="flex justify-between h-16">
                    <div class="flex items-center">
                        <a href="/legal-marketplace-sa/" class="flex items-center" aria-label="Legal Marketplace SA Home">
                            <img src="/legal-marketplace-sa/logo.svg" alt="Legal Marketplace SA Logo" class="h-8 w-auto" width="32" height="32">
                            <span class="ml-2 text-xl font-semibold text-gray-900">Legal Marketplace SA</span>
                        </a>
                    </div>
                    
                    <!-- Mobile menu button -->
                    <div class="flex md:hidden">
                        <button type="button" 
                                class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" 
                                aria-controls="mobile-menu" 
                                aria-expanded="false"
                                id="mobile-menu-button">
                            <span class="sr-only">Open main menu</span>
                            <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                    
                    <!-- Desktop menu -->
                    <div class="hidden md:flex items-center space-x-4">
                        <button class="text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" 
                                aria-label="Switch to Arabic language"
                                onclick="window.location.href='/legal-marketplace-sa/ar/'">
                            العربية
                        </button>
                        <a href="/login" 
                           class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                           role="button">
                            Login
                        </a>
                    </div>
                </div>

                <!-- Mobile menu -->
                <div class="md:hidden hidden" id="mobile-menu">
                    <div class="pt-2 pb-3 space-y-1">
                        <button class="block w-full text-left px-3 py-2 text-base font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500" 
                                aria-label="Switch to Arabic language"
                                onclick="window.location.href='/legal-marketplace-sa/ar/'">
                            العربية
                        </button>
                        <a href="/login" 
                           class="block w-full text-left px-3 py-2 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                           role="button">
                            Login
                        </a>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main id="main-content" role="main">
            <!-- Hero Section -->
            <section class="hero-gradient text-white py-20 hero-section" aria-labelledby="hero-heading">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h1 id="hero-heading" class="text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight">
                            Find Legal Expertise in Saudi Arabia
                        </h1>
                        <p class="mt-6 text-xl sm:text-2xl max-w-3xl mx-auto">
                            Connect with qualified lawyers and legal professionals for your business and personal needs
                        </p>
                        <div class="mt-10 flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                            <a href="/find-lawyer" 
                               class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                               role="button">
                                Find a Lawyer
                            </a>
                            <a href="/post-request" 
                               class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                               role="button">
                                Post a Request
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="py-20 bg-white" aria-labelledby="features-heading">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h2 id="features-heading" class="text-3xl font-extrabold text-gray-900">Why Choose Us</h2>
                        <p class="mt-4 text-xl text-gray-600">Comprehensive legal solutions tailored for Saudi Arabia</p>
                    </div>

                    <div class="mt-20 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 feature-grid">
                        <!-- Feature 1 -->
                        <article class="feature-card bg-white rounded-lg shadow-lg p-6" role="article">
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4" aria-hidden="true">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">Verified Professionals</h3>
                            <p class="mt-4 text-gray-600">All lawyers are verified and licensed to practice in Saudi Arabia</p>
                        </article>

                        <!-- Feature 2 -->
                        <article class="feature-card bg-white rounded-lg shadow-lg p-6" role="article">
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4" aria-hidden="true">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">Quick Response</h3>
                            <p class="mt-4 text-gray-600">Get responses from qualified lawyers within 24 hours</p>
                        </article>

                        <!-- Feature 3 -->
                        <article class="feature-card bg-white rounded-lg shadow-lg p-6" role="article">
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4" aria-hidden="true">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-900">Secure Payments</h3>
                            <p class="mt-4 text-gray-600">Protected payments and escrow services for your peace of mind</p>
                        </article>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="bg-blue-700 py-16" aria-labelledby="cta-heading">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h2 id="cta-heading" class="text-3xl font-extrabold text-white">Ready to Get Started?</h2>
                        <p class="mt-4 text-xl text-blue-100">Join thousands of satisfied clients and legal professionals</p>
                        <div class="mt-8">
                            <a href="/register" 
                               class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-700 focus:ring-white"
                               role="button">
                                Create Free Account
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white" role="contentinfo">
            <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="col-span-2">
                        <h3 class="text-xl font-semibold mb-4">Legal Marketplace SA</h3>
                        <p class="text-gray-400">Connecting clients with qualified legal professionals in Saudi Arabia</p>
                    </div>
                    <nav aria-label="Quick links">
                        <h4 class="text-lg font-medium mb-4">Quick Links</h4>
                        <ul class="space-y-2">
                            <li><a href="/about" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">About Us</a></li>
                            <li><a href="/how-it-works" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">How It Works</a></li>
                            <li><a href="/pricing" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">Pricing</a></li>
                            <li><a href="/contact" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">Contact</a></li>
                        </ul>
                    </nav>
                    <nav aria-label="Legal links">
                        <h4 class="text-lg font-medium mb-4">Legal</h4>
                        <ul class="space-y-2">
                            <li><a href="/terms" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">Terms of Service</a></li>
                            <li><a href="/privacy" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">Privacy Policy</a></li>
                            <li><a href="/cookies" class="text-gray-400 hover:text-white focus:outline-none focus:text-white">Cookie Policy</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="mt-8 pt-8 border-t border-gray-800">
                    <p class="text-center text-gray-400">&copy; 2024 Legal Marketplace SA. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script>
        // Add smooth scrolling with keyboard navigation support
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                    target.focus();
                }
            });
        });

        // Mobile menu functionality
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.classList.toggle('hidden');
                
                // Update the icon
                const icon = mobileMenuButton.querySelector('svg');
                if (isExpanded) {
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />';
                } else {
                    icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />';
                }
            });

            // Close menu on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    mobileMenuButton.focus();
                }
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!mobileMenuButton.contains(e.target) && !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                }
            });
        }

        // Announce dynamic content changes to screen readers
        const announcer = document.createElement('div');
        announcer.setAttribute('aria-live', 'polite');
        announcer.setAttribute('aria-atomic', 'true');
        announcer.classList.add('sr-only');
        document.body.appendChild(announcer);

        // Image loading optimization
        function handleImageLoading() {
            const images = document.querySelectorAll('img[loading="lazy"]');
            images.forEach(img => {
                img.classList.add('img-loading');
                
                if (img.complete) {
                    img.classList.add('img-loaded');
                } else {
                    img.addEventListener('load', () => {
                        img.classList.add('img-loaded');
                    });
                }

                // Add error handling
                img.addEventListener('error', () => {
                    img.src = '/legal-marketplace-sa/fallback-image.svg';
                    img.classList.add('img-loaded');
                });
            });
        }

        // Initialize image loading
        handleImageLoading();

        // Handle dynamic content loading
        let isLoading = false;

        async function loadContent(url) {
            if (isLoading) return;
            
            try {
                isLoading = true;
                const response = await fetch(url);
                if (!response.ok) throw new Error('Network response was not ok');
                
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('Error loading content:', error);
                // Show error message to user
                announcer.textContent = 'Error loading content. Please try again.';
            } finally {
                isLoading = false;
            }
        }

        // Performance monitoring
        if ('performance' in window && 'PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    // Log core web vitals
                    console.log(`${entry.name}: ${entry.value}`);
                }
            });

            observer.observe({ entryTypes: ['largest-contentful-paint', 'first-input', 'layout-shift'] });
        }

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html> 